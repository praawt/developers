openapi: 3.0.0
servers:
    - {description: Playground, url: 'https://playground-api.windingtree.com'}
info:
    description: 'API for reading hotels from WT'
    version: 0.13.1
    title: 'WT reading'
paths:
    /: {get: {summary: 'API info', responses: {'200': {description: 'Basic information about this API instance.', content: {application/json: {schema: {type: object, properties: {docs: {type: string, description: 'Link to the API documentation.'}, info: {type: string, description: 'Link to more information about the API.'}, version: {type: string, description: 'Deployed API version number.'}, config: {type: string, description: 'Which config is the API using. It might be useful to name configs after used ETH networks.'}, wtIndexAddresses: {type: object, properties: {airlines: {type: string, description: 'Ethereum address of used Winding Tree airline index.'}, hotels: {type: string, description: 'Ethereum address of used Winding Tree hotel index.'}}}, ethNetwork: {type: string, description: 'Name of the ethereum network against which this instance runs.'}, dataFormatVersions: {description: 'Version number indicating the data format specification version the server expects from hotels.', type: "object\nproperties:\n  airlines:\n    type: string\n    format: semver\n    maxLength: 20\n  hotels:\n    type: string\n    format: semver\n    maxLength: 20"}}}}}}}}}
    /hotels: {get: {summary: 'Lists hotels', parameters: [{name: limit, in: query, description: 'maximum number of records to return', required: false, schema: {default: 30, type: integer, format: int32, minimum: 0, maximum: 300}}, {name: startWith, in: query, description: 'The `id` of the first record that will be included in the result', required: false, schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}, {name: fields, in: query, description: "List of fields to return with the hotel item. Selecting only `id` field leads to fastest responses as all data are  trieved from WTIndex only.\n", required: false, schema: {default: [id, name, location], type: array, items: {type: string, enum: [id, name, description, location, contacts, address, roomTypes, timezone, currency, images, amenities, managerAddress, updatedAt, cancellationPolicies, notificationsUri, bookingUri]}}}], responses: {'200': {description: 'List of hotels. The API tries to always fulfil the requested limit, so in some cases, the `errors` field might be present.', content: {application/json: {schema: {type: object, properties: {items: {type: array, description: 'List of resolved hotels.', items: {$ref: '#/components/schemas/HotelListItem'}}, warnings: {type: array, description: 'List of resolved hotels passing validation with unsupported declared data format version.', items: {$ref: '#/components/schemas/HotelListError'}}, errors: {type: array, description: 'List of checked hotels whose requested data cannot be accessed (i. e. off-chain data cannot be reached) or fail validation.', items: {$ref: '#/components/schemas/HotelListError'}}, next: {description: 'Uri to next page of records. When there''s no next page, this is not set.', $ref: '#/components/schemas/windingtree-wt-shared-schemas-UriType'}}}}}}, '400': {$ref: '#/components/responses/InvalidRequestError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/hotels/{hotelId}': {get: {summary: 'Get hotel by `id`', parameters: [{name: hotelId, required: true, in: path, description: 'Hotel Id as returned by `GET /hotel`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}, {name: fields, required: false, in: query, schema: {type: array, items: {type: string, default: [id, location, name, description, contacts, address, currency, images, amenities, updatedAt], enum: [id, name, description, location, contacts, address, roomTypes, timezone, currency, images, amenities, managerAddress, updatedAt, cancellationPolicies, ratePlans, availability, notificationsUri, bookingUri]}}}], responses: {'200': {description: 'Hotel object', content: {application/json: {schema: {$ref: '#/components/schemas/HotelDetail'}}}, headers: {X-Data-Validation-Warning: {schema: {type: string}, description: 'Warning in case of a soft validation fail.'}}}, '400': {$ref: '#/components/responses/InvalidRequestError'}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/hotels/{hotelId}/meta': {get: {summary: 'Hotel record meta information - mostly on-chain and off-chain identifiers of places where to reach all of the hotel''s data.', parameters: [{name: hotelId, in: path, required: true, description: 'Hotel Id as returned by `GET /hotel`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}], responses: {'200': {description: 'Hotel data uris.', content: {application/json: {schema: {$ref: '#/components/schemas/MetaResponse'}}}}, '400': {$ref: '#/components/responses/InvalidRequestError'}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/hotels/{hotelId}/roomTypes': {get: {summary: 'List room types for hotel `id`', parameters: [{name: hotelId, in: path, required: true, description: 'Hotel Id as returned by `GET /hotel`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}, {name: fields, in: query, required: false, description: 'Additional fields to return', schema: {type: string, enum: [ratePlans, availability]}}], responses: {'200': {description: 'Room types list', content: {application/json: {schema: {$ref: '#/components/schemas/RoomTypesResponse'}}}}, '400': {$ref: '#/components/responses/InvalidRequestError'}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/hotels/{hotelId}/roomTypes/{roomTypeId}': {get: {summary: 'Get room type `id`', parameters: [{name: hotelId, in: path, required: true, description: 'Hotel Id as returned by `GET /hotel`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}, {name: roomTypeId, in: path, required: true, description: 'Id of room type', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-ObjectIdType'}}, {name: fields, in: query, required: false, description: 'Additional fields to return', schema: {type: string, enum: [ratePlans, availability]}}], responses: {'200': {description: 'Room type with id = `id`', content: {application/json: {schema: {$ref: '#/components/schemas/RoomTypeResponse'}}}, headers: {X-Data-Validation-Warning: {schema: {type: string}, description: 'Warning in case of a soft validation fail.'}}}, '400': {$ref: '#/components/responses/InvalidRequestError'}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/hotels/{hotelId}/roomTypes/{roomTypeId}/ratePlans': {get: {summary: 'Get rate plans of the room type `id`', parameters: [{name: hotelId, in: path, required: true, description: 'Hotel Id as returned by `GET /hotel`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}, {name: roomTypeId, in: path, required: true, description: 'Id of room type', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-ObjectIdType'}}], responses: {'200': {description: 'Rate plans for the room type', content: {application/json: {schema: {$ref: '#/components/schemas/RatePlansResponse'}}}}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/hotels/{hotelId}/roomTypes/{roomTypeId}/availability': {get: {summary: 'Get availability of the room type `id`. The availability field contains only a single key with room type id.', parameters: [{name: hotelId, in: path, required: true, description: 'Hotel Id as returned by `GET /hotel`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}, {name: roomTypeId, in: path, required: true, description: 'Id of room type', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-ObjectIdType'}}], responses: {'200': {description: 'Availability for the room type', content: {application/json: {schema: {$ref: '#/components/schemas/AvailabilityResponse'}}}}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/hotels/{hotelId}/availability': {get: {parameters: [{name: hotelId, in: path, required: true, description: 'Hotel Id as returned by `GET /hotel`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}], responses: {'200': {description: 'Availability data for the hotel', content: {application/json: {schema: {$ref: '#/components/schemas/AvailabilityResponse'}}}}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/hotels/{hotelId}/ratePlans': {get: {parameters: [{name: hotelId, in: path, required: true, description: 'Hotel Id as returned by `GET /hotel`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}], responses: {'200': {description: 'Rate plans for the hotel', content: {application/json: {schema: {$ref: '#/components/schemas/RatePlansResponse'}}}}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/hotels/{hotelId}/ratePlans/{ratePlanId}': {get: {parameters: [{name: hotelId, in: path, required: true, description: 'Hotel Id as returned by `GET /hotel`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}, {name: ratePlanId, in: path, required: true, description: 'Id of rate plan', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-ObjectIdType'}}], responses: {'200': {description: 'Rate plan details', content: {application/json: {schema: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-RatePlan'}}}, headers: {X-Data-Validation-Warning: {schema: {type: string}, description: 'Warning in case of a soft validation fail.'}}}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    /airlines: {get: {summary: 'Lists airlines', parameters: [{name: limit, in: query, description: 'maximum number of records to return', required: false, schema: {default: 30, type: integer, format: int32, minimum: 0, maximum: 300}}, {name: startWith, in: query, description: 'The `id` of the first record that will be included in the result', required: false, schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}, {name: fields, in: query, description: "List of fields to return with the airline item. Selecting only `id` field leads to fastest responses as all data are retrieved from WTIndex only.\n", required: false, schema: {default: [id, name, code], type: array, items: {type: string, enum: [id, name, description, flights, flights.items.flightInstances, code, contacts, updatedAt, defaultCancellationAmount, currency, managerAddress, cancellationPolicies, notificationsUri, bookingUri]}}}], responses: {'200': {description: 'List of airlines. The API tries to always fulfil the requested limit, so in some cases, the `errors` field might be present.', content: {application/json: {schema: {type: object, properties: {items: {type: array, description: 'List of resolved airlines.', items: {$ref: '#/components/schemas/AirlineListItem'}}, warnings: {type: array, description: 'List of resolved airlines passing validation with unsupported declared data format version.', items: {$ref: '#/components/schemas/AirlineListError'}}, errors: {type: array, description: 'List of checked airlines whose requested data cannot be accessed (i. e. off-chain data cannot be reached) or fail validation.', items: {$ref: '#/components/schemas/AirlineListError'}}, next: {description: 'Uri to next page of records. When there''s no next page, this is not set.', $ref: '#/components/schemas/windingtree-wt-shared-schemas-UriType'}}}}}}, '400': {$ref: '#/components/responses/InvalidRequestError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/airlines/{airlineId}': {get: {summary: 'Get airline by `id`', parameters: [{name: airlineId, required: true, in: path, description: 'Airline id as returned by `GET /airline`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}, {name: fields, required: false, in: query, schema: {type: array, items: {type: string, default: [id, name, description, contacts, currency, updatedAt], enum: [id, name, description, flights, flights.items.flightInstances, code, contacts, updatedAt, defaultCancellationAmount, currency, managerAddress, cancellationPolicies, notificationsUri, bookingUri]}}}], responses: {'200': {description: 'Airline object', content: {application/json: {schema: {$ref: '#/components/schemas/AirlineDetail'}}}, headers: {X-Data-Validation-Warning: {schema: {type: string}, description: 'Warning in case of a soft validation fail.'}}}, '400': {$ref: '#/components/responses/InvalidRequestError'}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/airlines/{airlineId}/flights': {get: {summary: 'Get flights list by airline id', parameters: [{name: airlineId, in: path, required: true, description: 'Airline Id as returned by `GET /airline`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}, {name: fields, in: query, required: false, description: 'Additional fields to return (id, origin, destination and segments are always returned).', schema: {type: string, default: [], enum: [flightInstances]}}], responses: {'200': {description: 'Flight data', content: {application/json: {schema: {allOf: [{$ref: '#/components/schemas/windingtree-wt-airline-schemas-Flights'}, {type: object, properties: {warnings: {type: array, description: 'Array of Flights', items: {$ref: '#/components/schemas/AirlineListError'}}, errors: {type: array, description: 'Array of Flights', items: {$ref: '#/components/schemas/AirlineListError'}}}}]}}}}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/airlines/{airlineId}/flights/{flightId}': {get: {summary: 'Get flight by `id`', parameters: [{name: airlineId, in: path, required: true, description: 'Airline Id as returned by `GET /airline`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}, {name: flightId, in: path, required: true, description: 'Flight Id as returned by `GET /airline` or `GET /airline/:id/flights`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-ObjectIdType'}}, {name: fields, in: query, required: false, description: 'Additional fields to return (id, origin, destination and segments are always returned).', schema: {type: string, default: [], enum: [flightInstances]}}], responses: {'200': {description: 'Flight data', content: {application/json: {schema: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-Flight'}}}, headers: {X-Data-Validation-Warning: {schema: {type: string}, description: 'Warning in case of a soft validation fail.'}}}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/airlines/{airlineId}/flights/{flightId}/meta': {get: {summary: 'Get flight meta data', parameters: [{name: airlineId, in: path, required: true, description: 'Airline Id as returned by `GET /airline`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}, {name: flightId, in: path, required: true, description: 'Flight Id as returned by `GET /airline` or `GET /airline/:id/flights`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-ObjectIdType'}}], responses: {'200': {description: 'Flight instances', content: {application/json: {schema: {type: object, required: [flightInstancesUri], properties: {flightInstancesUri: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-UriType'}}}}}}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/airlines/{airlineId}/flights/{flightId}/instances': {get: {summary: 'Get flight instances list by flight id', parameters: [{name: airlineId, in: path, required: true, description: 'Airline Id as returned by `GET /airline`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}, {name: flightId, in: path, required: true, description: 'Flight Id as returned by `GET /airline` or `GET /airline/:id/flights`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-ObjectIdType'}}], responses: {'200': {description: 'Flight instances', content: {application/json: {schema: {type: object, properties: {items: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-FlightInstances'}, warnings: {type: array, description: 'Array of Flights', items: {$ref: '#/components/schemas/AirlineListError'}}, errors: {type: array, description: 'Array of Flights', items: {$ref: '#/components/schemas/AirlineListError'}}}}}}}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
    '/airlines/{airlineId}/flights/{flightId}/instances/{flightInstanceId}': {get: {summary: 'Get flight instance detail', parameters: [{name: airlineId, in: path, required: true, description: 'Airline Id as returned by `GET /airline`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}}, {name: flightId, in: path, required: true, description: 'Flight Id as returned by `GET /airline` or `GET /airline/:id/flights`', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-ObjectIdType'}}, {name: flightInstanceId, in: path, required: true, description: 'Id of flight instance', schema: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-ObjectIdType'}}], responses: {'200': {description: 'Flight instance details', content: {application/json: {schema: {allOf: [{$ref: '#/components/schemas/windingtree-wt-airline-schemas-FlightInstance'}, {type: object, properties: {dataFormatVersion: {description: 'Version number indicating the data format specification version.', type: string, format: semver, maxLength: 20}}}]}}}, headers: {X-Data-Validation-Warning: {schema: {type: string}, description: 'Warning in case of a soft validation fail.'}}}, '404': {$ref: '#/components/responses/NotFoundError'}, '422': {$ref: '#/components/responses/UnprocessableEntityError'}, '500': {$ref: '#/components/responses/InternalServerError'}, '502': {$ref: '#/components/responses/HttpBadGatewayError'}}}}
components:
    responses: {InvalidRequestError: {description: 'The server does not understand to the request (HTTP code 400)', content: {application/json: {schema: {$ref: '#/components/schemas/Error'}}}}, NotFoundError: {description: 'The object was not found (HTTP code 404)', content: {application/json: {schema: {$ref: '#/components/schemas/Error'}}}}, UnprocessableEntityError: {description: 'The object was not found (HTTP code 422)', content: {application/json: {schema: {$ref: '#/components/schemas/Error'}}}}, InternalServerError: {description: 'Internal server error (HTTP code 500)', content: {application/json: {schema: {$ref: '#/components/schemas/Error'}}}}, HttpBadGatewayError: {description: 'Internal server error (HTTP code 502)', content: {application/json: {schema: {$ref: '#/components/schemas/Error'}}}}, ValidationError: {description: 'Upstream data validation error (HTTP code 422)', content: {application/json: {schema: {allOf: [{$ref: '#/components/schemas/Error'}, {type: object, properties: {data: {description: 'Upstream data that failed validation against api spec or is invalid dataFormatVersion.', type: object}}}]}}}}}
    schemas: {HotelListError: {type: object, required: [error], properties: {error: {description: 'Human readable error from the API', type: string}, originalError: {description: 'Text of the original exception that caused this error', type: string}, data: {type: object, description: 'Additional data to this error, typically contains `id` that identifies the erroring record.'}}}, HotelListItem: {allOf: [{$ref: '#/components/schemas/windingtree-wt-hotel-schemas-HotelDescriptionBase'}, {type: object, required: [id], properties: {id: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}, managerAddress: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}, roomTypes: {description: 'Room types in the hotel', $ref: '#/components/schemas/RoomTypesResponse'}}}]}, HotelDetail: {allOf: [{$ref: '#/components/schemas/windingtree-wt-hotel-schemas-HotelDescription'}, {type: object, required: [id], properties: {id: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}, ratePlans: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-RatePlans'}, availability: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-Availability'}, roomTypes: {description: 'Room types in the hotel', $ref: '#/components/schemas/RoomTypesResponse'}}}]}, RoomTypesResponse: {description: 'Array of room types', type: object, properties: {items: {type: array, items: {$ref: '#/components/schemas/RoomTypeResponse'}}, warnings: {type: array, description: 'Array of Flights', items: {$ref: '#/components/schemas/HotelListError'}}, errors: {type: array, description: 'Array of Flights', items: {$ref: '#/components/schemas/HotelListError'}}}}, RoomTypeResponse: {allOf: [{$ref: '#/components/schemas/windingtree-wt-hotel-schemas-RoomType'}, {type: object, properties: {availability: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-Availability'}}}]}, RatePlansResponse: {type: object, properties: {items: {type: array, items: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-RatePlan'}}, warnings: {type: array, description: 'Array of Flights', items: {$ref: '#/components/schemas/AirlineListError'}}, errors: {type: array, description: 'Array of Flights', items: {$ref: '#/components/schemas/AirlineListError'}}}}, AvailabilityResponse: {type: object, properties: {items: {type: array, items: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-AvailabilityForDay'}}, warnings: {type: array, description: 'Array of Flights', items: {$ref: '#/components/schemas/AirlineListError'}}, errors: {type: array, description: 'Array of Flights', items: {$ref: '#/components/schemas/AirlineListError'}}, updatedAt: {type: string, description: 'Date-time when the data was last changed. Used by consumers to handle incremental updates and caching.', format: date-time}}}, AirlineListItem: {allOf: [{$ref: '#/components/schemas/windingtree-wt-airline-schemas-AirlineDescriptionBase'}, {type: object, required: [id], properties: {id: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}, managerAddress: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}, flights: {description: 'Flights operated by the airline', $ref: '#/components/schemas/FlightsResponse'}}}]}, AirlineListError: {type: object, required: [error], properties: {error: {description: 'Human readable error from the API', type: string}, originalError: {description: 'Text of the original exception that caused this error', type: string}, data: {type: object, description: 'Additional data to this error, typically contains `id` that identifies the erroring record.'}}}, AirlineDetail: {allOf: [{$ref: '#/components/schemas/windingtree-wt-airline-schemas-AirlineDescription'}, {type: object, required: [id], properties: {id: {$ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}, flights: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-Flights'}}}]}, FlightsResponse: {description: 'Array of flight instances', type: array, items: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-Flight'}}, MetaResponse: {type: object, description: 'Collection of identifiers required to look up hotel data', required: [address, dataUri], properties: {address: {description: 'Ethereum address of the hotel', $ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}, dataUri: {description: 'URI of the Hotel data index (pointing off-chain)', $ref: '#/components/schemas/windingtree-wt-shared-schemas-UriType'}, descriptionUri: {description: 'URI of the Hotel data index (pointing off-chain)', $ref: '#/components/schemas/windingtree-wt-shared-schemas-UriType'}, ratePlansUri: {description: 'URI of the Hotel data index (pointing off-chain)', $ref: '#/components/schemas/windingtree-wt-shared-schemas-UriType'}, availabilityUri: {description: 'URI of the Hotel data index (pointing off-chain)', $ref: '#/components/schemas/windingtree-wt-shared-schemas-UriType'}, dataFormatVersion: {description: 'Version number indicating the data format specification version.', type: string, format: semver, maxLength: 20}}}, Error: {title: Error, description: 'Default schema for errors returned by API.', properties: {status: {type: number, description: 'HTTP status'}, code: {type: string, description: 'Computer-readable error. Use this for comparison.'}, short: {type: string, description: 'Human-readable error with a short description of the error.'}, long: {type: string, description: 'Verbose explanation of what happen.'}}}, windingtree-wt-shared-schemas-Contact: {title: Contact, type: object, properties: {email: {description: 'E-mail contact', type: string, format: email, example: joseph.urban@example.com, maxLength: 150}, phone: {description: 'Phone number (with country prefix and a leading + sign)', type: string, maxLength: 18, example: '+44123456789', format: phone}, url: {description: 'Url to the contact web page', type: string, format: uri}, ethereum: {description: 'Address of wallet on Ethereum', $ref: '#/components/schemas/windingtree-wt-shared-schemas-EthereumAddressType'}, additionalContacts: {description: 'More contact options, such as Whatsapp, WeChat, Telegram, twitter handle, facebook address. Once we see high demand for a particular type of contact, we can promote them to regular contact types.', type: array, items: {type: object, required: [title, value], properties: {title: {description: 'Name of this contact options', type: string, maxLength: 100}, value: {description: 'The actual contact', type: string, maxLength: 100}}}}}}, windingtree-wt-shared-schemas-CancellationPolicy: {title: 'Cancellation policy', type: object, description: 'What is the penalty when a guest/passenger wants to cancel a reservation.', required: [amount], properties: {from: {description: 'After which date does this cancellation policy apply (including). If not present, this policy applies since the beginning of time. This is related to arrival and departure dates, not the date of the booking.', type: string, format: date, example: '2018-01-30'}, to: {description: 'Before which date does this cancellation policy apply(including). If not present, this policy applies until the end of the universe. This is related to arrival and departure dates, not the date of the booking.', type: string, format: date, example: '2018-02-20'}, deadline: {type: integer, description: 'How many days before hotel arrival or flight departure does this first apply. If not present, this policy applies any time.', example: 30}, amount: {type: number, format: float, description: 'Cost of cancellation in percents of the final price, 100 means non refundable. This means how much money will the hotel keep.', example: 25}}}, windingtree-wt-shared-schemas-AddressType: {title: 'Postal address', description: 'Based on output of Open Street Map''s [Nominatim](https://wiki.openstreetmap.org/wiki/Nominatim). For formatting, take a look [here](https://github.com/OpenCageData/address-formatting).', type: object, required: [road, houseNumber, city, countryCode], properties: {houseNumber: {type: string, maxLength: 150}, road: {type: string, maxLength: 150}, city: {type: string, maxLength: 150}, county: {type: string, maxLength: 150}, stateDistrict: {type: string, maxLength: 150}, state: {type: string, maxLength: 150}, postcode: {type: string, maxLength: 13}, countryCode: {type: string, maxLength: 2, minLength: 2, description: 'ISO 3166-1 alpha-2 codes', format: country-code}}}, windingtree-wt-shared-schemas-LegalEntityType: {title: 'Legal entity', type: object, description: 'A legal entity that can be held responsible', required: [name, address, contact], properties: {name: {description: 'Entity''s name as registered with the authorities', type: string, maxLength: 300}, address: {description: 'Entity''s postal address as registered with the authorities', $ref: '#/components/schemas/windingtree-wt-shared-schemas-AddressType'}, contact: {description: 'Any way of contacting the entity', $ref: '#/components/schemas/windingtree-wt-shared-schemas-Contact'}, vatin: {description: 'VAT identification number ([EU](https://en.wikipedia.org/wiki/VAT_identification_number), [US](https://www.irs.gov/individuals/international-taxpayers/taxpayer-identification-numbers-tin), or equivalents)', type: string, maxLength: 50}, lei: {description: 'Legal Entity Identifier as defined in ISO 17442, https://en.wikipedia.org/wiki/Legal_Entity_Identifier', type: string, length: 20}}}, windingtree-wt-shared-schemas-CurrencyType: {title: 'Currency code', type: string, minLength: 3, maxLength: 3, description: 'Three letter ISO 4217 currency code.', format: currency-code}, windingtree-wt-shared-schemas-DescriptionType: {title: 'Markdown description', description: 'Text description in simple Markdown format (bold, italic, titles, line break and paragraph format). Particular flavour of markdown is yet to be decided.', type: string, maxLength: 3000}, windingtree-wt-shared-schemas-EthereumAddressType: {title: 'Ethereum address', type: string, description: 'Ethereum address in hexadecimal format (with leading 0x) or an ENS name.', maxLength: 300}, windingtree-wt-shared-schemas-NameType: {title: 'Entity name', description: 'Human readable name identifying an entity (shown to users in search results, hotel/room details, etc)', type: string, maxLength: 150}, windingtree-wt-shared-schemas-ObjectIdType: {title: ID, description: 'Vendor string ID', type: string, maxLength: 100, example: 1234-abcd}, windingtree-wt-shared-schemas-TimezoneType: {title: 'Timezone code', description: 'Timezone name according to https://www.iana.org/time-zones (refer to zone.tab)', type: string, maxLength: 40, format: timezone}, windingtree-wt-shared-schemas-UriType: {title: URI, description: 'URI for linking resources. The maximal length is 1500 to save space.', type: string, format: uri, maxLength: 1500}, windingtree-wt-shared-schemas-LanguageCodeType: {title: 'Language code', description: 'Two letter language code based on ISO 639-1 standard', type: string, format: language-code, length: 2}, windingtree-wt-hotel-schemas-HotelOnChain: {title: 'WT-Index hotel record', description: 'Hotel record in WT-Index smart contract', type: object, required: [address, manager, dataUri, created], properties: {address: {description: 'Ethereum address of the hotel', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-EthereumAddressType'}, manager: {description: 'Ethereum address of the manager wallet', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-EthereumAddressType'}, dataUri: {description: 'URI of the Hotel data index (pointing off-chain)', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-UriType'}, created: {description: 'Number of a block when the hotel was created', type: integer}}}, windingtree-wt-hotel-schemas-HotelDataIndex: {title: 'Hotel data index', description: 'Landing index for hotel resources. Link to this document is stored in WT-Index smart contract hotel record', type: object, required: [dataFormatVersion, descriptionUri], properties: {dataFormatVersion: {description: 'Version number indicating the data format specification version.', type: string, format: semver, maxLength: 20}, descriptionUri: {description: 'URI pointing to the HotelDescription data resource', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-UriType'}, ratePlansUri: {description: 'URI pointing to RatePlans data resource', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-UriType'}, availabilityUri: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-UriType', description: 'URI pointing to Availability data resource'}, notificationsUri: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-UriType', description: 'URI pointing to an instance of the WT Notification service.'}, bookingUri: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-UriType', description: 'URI pointing to an instance of the WT Booking service.'}, defaultLocale: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-LanguageCodeType', description: 'Code of language in which all textual information for this record is presented. If no default locale is declared, the texts are expected to be in English language.'}}}, windingtree-wt-hotel-schemas-HotelDescription: {title: 'Hotel description', allOf: [{$ref: '#/components/schemas/windingtree-wt-hotel-schemas-HotelDescriptionBase'}, {type: object, required: [name, description, contacts, address, timezone, currency, defaultCancellationAmount]}]}, windingtree-wt-hotel-schemas-HotelDescriptionBase: {title: 'Hotel description base definition', description: 'Basic properties of hotel', type: object, properties: {location: {description: 'Geo-location in GPS format', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-Location'}, name: {description: 'Name of the hotel to display to users', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-NameType'}, operator: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-LegalEntityType'}, description: {description: 'Short text description of the hotel to show to users.', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-DescriptionType'}, roomTypes: {description: 'Room types in the hotel', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-RoomTypes'}, contacts: {type: object, description: 'A set of contacts', required: [general], properties: {general: {description: 'Primary contact', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-Contact'}}}, address: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-AddressType'}, timezone: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-TimezoneType'}, currency: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-CurrencyType'}, spokenLanguages: {description: 'List of languages that people can use when communicating with this hotel.', type: array, items: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-LanguageCodeType'}}, category: {description: 'Hotel category for easier filtering. These values are placeholder strings that are coincidentally in English and should be localized by the end user interface.', type: string, enum: [apartment, 'bed and breakfast', boat, cabin, camp, 'holiday home', hostel, hotel, house, inn, 'mobile home', motel, other, spa]}, images: {description: 'Images. We don''t process them in any way, so they should be in the best quality available and in a common format such as JPEG. As we don''t have any tagging, the most important picture should come first.', type: array, items: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-UriType'}}, amenities: {description: 'Hotel products/services provided to guests. If a service is stated here, it is provided.', type: array, items: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-HotelAmenityItem'}}, tags: {description: 'Free form textual tags that can describe the hotel. These can be eventually used for searching.', type: array, items: {type: string}}, updatedAt: {type: string, description: 'Date-time when the data was last changed. Used by consumers to handle incremental updates and caching.', format: date-time}, defaultCancellationAmount: {type: number, format: float, description: 'Cost of cancellation in percents of the final price, 100 means non refundable. This is a default amount of how much money will the hotel keep if no other cancallation policy is applicable.', example: 25}, cancellationPolicies: {description: 'A list of policies under which it is possible to cancel a reservation.', type: array, items: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-CancellationPolicy'}}}}, windingtree-wt-hotel-schemas-RoomTypes: {type: array, description: 'Array of RoomTypes', items: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-RoomType'}}, windingtree-wt-hotel-schemas-RoomType: {type: object, required: [id, name, description, occupancy, totalQuantity], properties: {id: {description: 'ID of the room type', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-ObjectIdType', example: 123-afg-34}, name: {description: 'Name of the room type to show to users', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-NameType'}, description: {description: 'Room type description in plain text', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-DescriptionType'}, category: {type: string, description: 'Room category for easier filtering. These values are placeholder strings that are coincidentally in English and should be localized by the end user interface.', enum: [apartment, barn, boat, bungalow, bunk, cabin, condominium, 'double or twin room', 'double room', 'double room single use', duplex, lodge, other, penthouse, 'quadruple room', 'recreation vehicle', room, 'shared room', 'single room', studio, suite, teepee, tent, 'tree house', 'triple room', 'twin room', villa, yurt]}, totalQuantity: {type: integer, format: int32}, occupancy: {type: object, required: [max], properties: {min: {type: integer, format: int32, description: 'Minimal number of occupants to rent the room.', default: 1, example: 1}, max: {type: integer, format: int32, description: 'Maximal number of occupants to rent the room.', example: 3}}}, amenities: {description: 'Room products/services provided to guests. If a service is stated here, it is provided.', type: array, items: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-RoomAmenityItem'}}, tags: {description: 'Free form textual tags that can describe the room. These can be eventually used for searching.', type: array, items: {type: string}}, images: {description: 'Images. We don''t process them in any way, so they should be in the best quality available and in a common format such as JPEG. As we don''t have any tagging, the most important picture should come first.', type: array, minItems: 0, maxItems: 30, uniqueItems: true, items: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-UriType', description: 'image uri', example: 'https://example.com/my-image.jpg'}}, updatedAt: {type: string, format: date-time, description: 'Date-time when the data was last changed. Used by consumers to handle incremental updates and caching.'}}}, windingtree-wt-hotel-schemas-RatePlans: {type: array, description: 'Array of RatePlans', items: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-RatePlan'}}, windingtree-wt-hotel-schemas-RatePlan: {description: "Rate plan for specified room types. All prices are meant for a single room for a single night for a single person.\nWe recommend using [wt-pricing-algorithms](https://github.com/windingtree/wt-pricing-algorithms) library for this.\n\nAlgorithm to calculate price\n- choose the currency you want to compute the price in\n- pick the right ratePlan(s) based on the chosen currency, availableForTravel field and provided booking dates\n- check restrictions and drop rate plans that the booking doesn't meet\n- for every rate plan as rp_i\n  - for every person as p_j\n      apply the best of any fitting price modifiers (pro-consumer strategy, this will change)\n      multiply the computed rate by length of stay\n  - store the final price for rp_i\n- compare all final prices and pick the one based on the chosen resolution strategy\n", type: object, required: [id, name, price, roomTypeIds], properties: {id: {description: 'ID of the rate plan', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-ObjectIdType'}, name: {description: 'Name of the rate plan to show to users', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-NameType'}, description: {description: 'Rate plan description in plain text', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-DescriptionType'}, currency: {description: 'Currency in which are all the prices of this rate plan. If not set, the hotel currency setting will be used.', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-CurrencyType'}, price: {type: number, format: float, description: 'Base price for given room type for one night and one person.'}, roomTypeIds: {type: array, description: 'List of all room types that this rate plan applies to', minItems: 1, maxItems: 30, uniqueItems: true, items: {description: 'RoomType id', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-ObjectIdType', example: 123-afg-34}}, updatedAt: {type: string, format: date-time, description: 'Date-time when the data was last changed. Used by consumers to handle incremental updates and caching.'}, availableForReservation: {type: object, description: 'A time period during which this rate plan can be used to compute prices for a booking, i. e. a hotel can have different rate plans that are used for reservations for the same date that are placed in different months. If this restriction is not set, the rate plan can be used for booking with no time restriction.', required: [from, to], properties: {from: {type: string, format: date}, to: {type: string, format: date}}}, availableForTravel: {type: object, description: 'A time period of stay during which this rate plan should be used to compute prices, i. e. prices in this rate plan are applicable in August. If this restriction is not set, the rate plan can be used for booking for any time.', required: [from, to], properties: {from: {type: string, format: date}, to: {type: string, format: date}}}, modifiers: {type: array, description: 'List of price modifiers, i. e. discounts based on length of stay. For now, the list is very limited.', items: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-RatePlanPriceModifier'}}, restrictions: {type: object, description: 'Restrictions for this rate plan. If a booking fits all restrictions, this rate plan can be used. If no restrictions are set, rate plan can be applied at any valid time.', properties: {bookingCutOff: {description: 'How many days in advance booking starts / ends. If not specified there is no restriction.', type: object, properties: {min: {type: integer}, max: {type: integer}}}, lengthOfStay: {description: 'How long does the stay have to be to apply this rate plan. If not specified, there is no restriction.', type: object, properties: {min: {type: integer, default: 1}, max: {type: integer}}}}}}}, windingtree-wt-hotel-schemas-RatePlanPriceModifier: {type: object, description: "A set of conditions that can affect the resulting price. If the conditions are met, the modifier is applied to all travellers:\n\nIf a single person is travelling, she will pay 100 EUR. If two people are coming, they will also pay 100 EUR (two times half the price). If three people are coming, they will pay each 50% of base price or 150 EUR in total.\n\n```\n {\n  \"price\": 100,\n  \"modifiers\": [\n    {\n      \"adjustment\": -50,\n      \"unit\": \"percentage\",\n      \"conditions\": {\n        \"minOccupants\": 2\n      }\n    }\n  ]\n}\n```\n", required: [adjustment, unit, conditions], properties: {adjustment: {description: 'How much will the resulting price be adjusted?', type: number, format: float, example: -3.1}, unit: {description: 'In what unit is the adjustment?', type: string, enum: [percentage, absolute]}, conditions: {type: object, properties: {from: {description: 'First day the modifier is applied to (including)', type: string, format: date, example: '2018-01-30'}, to: {description: 'Last day the modifier is applied to (including)', type: string, format: date, example: '2018-02-20'}, minLengthOfStay: {description: 'Minimal length of stay the modifer is applicable to. If there are multiple modifiers with lengthOfStay condition matching the minimal length of stay, the price for the longest length of stay is used.', type: integer}, maxAge: {description: 'The modifier is applicable to occupants of this age or younger at the time of arrival to the stay. If multiple modifiers are specified with different maxAge, the modifier with the lowest fitting limit is applied.', type: integer}, minOccupants: {description: 'The modifier is applicable if there are at least this number of persons staying in a room. If multiple modifiers are specified with different minOccupants, the modifier with the highest fitting limit is applied.', type: integer}}}}}, windingtree-wt-hotel-schemas-Availability: {description: 'Full snapshot of availability in time of `updatedAt`', type: object, required: [roomTypes], properties: {updatedAt: {type: string, format: date-time}, roomTypes: {description: 'Array of AvailabilityForDay', type: array, items: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-AvailabilityForDay'}}}}, windingtree-wt-hotel-schemas-AvailabilityForDay: {type: object, required: [roomTypeId, date, quantity], properties: {roomTypeId: {description: 'The roomTypeId the availability is for', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-ObjectIdType'}, date: {description: 'The date the availability is for', type: string, format: date}, quantity: {description: 'Number of free resources to book for the day', type: integer}, restrictions: {$ref: '#/components/schemas/windingtree-wt-hotel-schemas-AvailabilityRestrictions'}}}, windingtree-wt-hotel-schemas-AvailabilityRestrictions: {description: 'Possible restrictions (this is not exhaustive and we might add more options in the future)', type: object, properties: {noArrival: {type: boolean, description: 'It''s not possible to arrive on this date'}, noDeparture: {type: boolean, description: 'It''s not possible to depart on this date'}}}, windingtree-wt-hotel-schemas-HotelAmenityItem: {title: 'Hotel amenity', description: 'A service/product offered to guests on the hotel level for free. These values are placeholder strings that are coincidentally in English and should be localized by the end user interface.', type: string, enum: ['24-hour front desk', 'airport shuttle', 'air conditioning', bar, disco, 'dry cleaning', 'free parking', 'free wi-fi', 'safe deposit box', 'kid´s day care', 'pets allowed', pool, restaurant, 'room service', 'spa services', 'tennis court', terrace, 'wake up service', 'wheelchair accessible']}, windingtree-wt-hotel-schemas-RoomAmenityItem: {title: 'Room amenity', description: 'A service/product offered to guests on the room level for free. These values are placeholder strings that are coincidentally in English and should be localized by the end user interface.', type: string, enum: ['air conditioning', balcony, crib, 'free toiletries', 'free wi-fi', hairdryer, kitchen, minibar, 'private bathroom', 'safe deposit box', terrace, towels, tv, 'wheelchair accessible']}, windingtree-wt-hotel-schemas-Location: {title: 'GPS location', type: object, description: 'GPS location in decimal format (ISO 6709)', required: [latitude, longitude], properties: {latitude: {type: number, format: float, example: 35.89421911}, longitude: {type: number, format: float, example: 139.94637467}}}, windingtree-wt-hotel-schemas-Contact: {title: Contact, type: object, properties: {email: {description: 'E-mail contact', type: string, format: email, example: joseph.urban@example.com, maxLength: 150}, phone: {description: 'Phone number (with country prefix and a leading + sign)', type: string, maxLength: 18, example: '+44123456789', format: phone}, url: {description: 'Url to the contact web page', type: string, format: uri}, ethereum: {description: 'Address of wallet on Ethereum', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-EthereumAddressType'}, additionalContacts: {description: 'More contact options, such as Whatsapp, WeChat, Telegram, twitter handle, facebook address. Once we see high demand for a particular type of contact, we can promote them to regular contact types.', type: array, items: {type: object, required: [title, value], properties: {title: {description: 'Name of this contact options', type: string, maxLength: 100}, value: {description: 'The actual contact', type: string, maxLength: 100}}}}}}, windingtree-wt-hotel-schemas-CancellationPolicy: {title: 'Cancellation policy', type: object, description: 'What is the penalty when a guest/passenger wants to cancel a reservation.', required: [amount], properties: {from: {description: 'After which date does this cancellation policy apply (including). If not present, this policy applies since the beginning of time. This is related to arrival and departure dates, not the date of the booking.', type: string, format: date, example: '2018-01-30'}, to: {description: 'Before which date does this cancellation policy apply(including). If not present, this policy applies until the end of the universe. This is related to arrival and departure dates, not the date of the booking.', type: string, format: date, example: '2018-02-20'}, deadline: {type: integer, description: 'How many days before hotel arrival or flight departure does this first apply. If not present, this policy applies any time.', example: 30}, amount: {type: number, format: float, description: 'Cost of cancellation in percents of the final price, 100 means non refundable. This means how much money will the hotel keep.', example: 25}}}, windingtree-wt-hotel-schemas-AddressType: {title: 'Postal address', description: 'Based on output of Open Street Map''s [Nominatim](https://wiki.openstreetmap.org/wiki/Nominatim). For formatting, take a look [here](https://github.com/OpenCageData/address-formatting).', type: object, required: [road, houseNumber, city, countryCode], properties: {houseNumber: {type: string, maxLength: 150}, road: {type: string, maxLength: 150}, city: {type: string, maxLength: 150}, county: {type: string, maxLength: 150}, stateDistrict: {type: string, maxLength: 150}, state: {type: string, maxLength: 150}, postcode: {type: string, maxLength: 13}, countryCode: {type: string, maxLength: 2, minLength: 2, description: 'ISO 3166-1 alpha-2 codes', format: country-code}}}, windingtree-wt-hotel-schemas-LegalEntityType: {title: 'Legal entity', type: object, description: 'A legal entity that can be held responsible', required: [name, address, contact], properties: {name: {description: 'Entity''s name as registered with the authorities', type: string, maxLength: 300}, address: {description: 'Entity''s postal address as registered with the authorities', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-AddressType'}, contact: {description: 'Any way of contacting the entity', $ref: '#/components/schemas/windingtree-wt-hotel-schemas-Contact'}, vatin: {description: 'VAT identification number ([EU](https://en.wikipedia.org/wiki/VAT_identification_number), [US](https://www.irs.gov/individuals/international-taxpayers/taxpayer-identification-numbers-tin), or equivalents)', type: string, maxLength: 50}, lei: {description: 'Legal Entity Identifier as defined in ISO 17442, https://en.wikipedia.org/wiki/Legal_Entity_Identifier', type: string, length: 20}}}, windingtree-wt-hotel-schemas-CurrencyType: {title: 'Currency code', type: string, minLength: 3, maxLength: 3, description: 'Three letter ISO 4217 currency code.', format: currency-code}, windingtree-wt-hotel-schemas-DescriptionType: {title: 'Markdown description', description: 'Text description in simple Markdown format (bold, italic, titles, line break and paragraph format). Particular flavour of markdown is yet to be decided.', type: string, maxLength: 3000}, windingtree-wt-hotel-schemas-EthereumAddressType: {title: 'Ethereum address', type: string, description: 'Ethereum address in hexadecimal format (with leading 0x) or an ENS name.', maxLength: 300}, windingtree-wt-hotel-schemas-NameType: {title: 'Entity name', description: 'Human readable name identifying an entity (shown to users in search results, hotel/room details, etc)', type: string, maxLength: 150}, windingtree-wt-hotel-schemas-ObjectIdType: {title: ID, description: 'Vendor string ID', type: string, maxLength: 100, example: 1234-abcd}, windingtree-wt-hotel-schemas-TimezoneType: {title: 'Timezone code', description: 'Timezone name according to https://www.iana.org/time-zones (refer to zone.tab)', type: string, maxLength: 40, format: timezone}, windingtree-wt-hotel-schemas-UriType: {title: URI, description: 'URI for linking resources. The maximal length is 1500 to save space.', type: string, format: uri, maxLength: 1500}, windingtree-wt-hotel-schemas-LanguageCodeType: {title: 'Language code', description: 'Two letter language code based on ISO 639-1 standard', type: string, format: language-code, length: 2}, windingtree-wt-airline-schemas-AirlineOnChain: {title: 'WT-Index airline record', description: 'Airline record in WT-Index smart contract', type: object, required: [address, manager, dataUri, created], properties: {address: {description: 'Ethereum address of the airline', $ref: '#/components/schemas/windingtree-wt-airline-schemas-EthereumAddressType'}, manager: {description: 'Ethereum address of the manager wallet', $ref: '#/components/schemas/windingtree-wt-airline-schemas-EthereumAddressType'}, dataUri: {description: 'URI of the Airline data index (pointing off-chain)', $ref: '#/components/schemas/windingtree-wt-airline-schemas-UriType'}, created: {description: 'Number of a block when the airline was created', type: integer}}}, windingtree-wt-airline-schemas-AirlineDataIndex: {title: 'Airline data index', description: 'Landing index for airline resources. Link to this document is stored in WT-Index smart contract airline record.', type: object, required: [dataFormatVersion, descriptionUri], properties: {dataFormatVersion: {description: 'Version number indicating the data format specification version.', type: string, format: semver, maxLength: 20}, descriptionUri: {description: 'URI pointing to the AirlineDescription data resource', $ref: '#/components/schemas/windingtree-wt-airline-schemas-UriType'}, flightsUri: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-UriType', description: 'URI pointing to Flights data resource'}, notificationsUri: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-UriType', description: 'URI pointing to an instance of the WT Notification service.'}, bookingUri: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-UriType', description: 'URI pointing to an instance of the WT Booking service.'}}}, windingtree-wt-airline-schemas-AirlineDescription: {title: 'Airline description', allOf: [{$ref: '#/components/schemas/windingtree-wt-airline-schemas-AirlineDescriptionBase'}, {type: object, required: [name, code, contacts, updatedAt, defaultCancellationAmount]}]}, windingtree-wt-airline-schemas-AirlineDescriptionBase: {title: 'Airline description.', description: 'Basic properties of an airline.', type: object, properties: {name: {description: 'Name of the airline to display to users', $ref: '#/components/schemas/windingtree-wt-airline-schemas-NameType'}, operator: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-LegalEntityType'}, code: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-AirlineCodeType'}, contacts: {type: object, description: 'A set of contacts.', required: [general], properties: {general: {description: 'Primary contact', $ref: '#/components/schemas/windingtree-wt-airline-schemas-Contact'}}}, updatedAt: {type: string, description: 'Date-time when the data was last changed. Used by consumers to handle incremental updates and caching.', format: date-time}, defaultCancellationAmount: {type: number, format: float, description: 'Cost of cancellation in percents of the final price, 100 means non refundable. This is a default amount of how much money will the airline keep if no other cancallation policy is applicable.', example: 25}, cancellationPolicies: {description: 'A list of policies under which it is possible to cancel a reservation.', type: array, items: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-CancellationPolicy'}}}}, windingtree-wt-airline-schemas-Flights: {type: object, description: 'A set of scheduled flights.', required: [updatedAt, items], properties: {items: {type: array, description: 'Array of Flights', items: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-Flight'}}, updatedAt: {description: 'Time of the last update of services information.', type: string, format: date-time}}}, windingtree-wt-airline-schemas-Flight: {type: object, description: 'A single airline service.', required: [id, origin, destination, segments, flightInstances], properties: {id: {description: 'A flight ID.', type: string, maxLength: 255, example: OK0965}, origin: {description: 'IATA code of the origin airport.', $ref: '#/components/schemas/windingtree-wt-airline-schemas-AirportCodeType'}, destination: {description: 'IATA code of the destination airport.', $ref: '#/components/schemas/windingtree-wt-airline-schemas-AirportCodeType'}, equipmentType: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-EquipmentType'}, operatingAirline: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-AirlineCodeType'}, segments: {type: array, minItems: 1, items: {type: object, required: [id, departureAirport, arrivalAirport], properties: {id: {title: 'ID of the flight segment (must be unique for the given flight number).', type: string}, departureAirport: {description: 'IATA code of the departure airport.', $ref: '#/components/schemas/windingtree-wt-airline-schemas-AirportCodeType'}, arrivalAirport: {description: 'IATA code of the arrival airport.', $ref: '#/components/schemas/windingtree-wt-airline-schemas-AirportCodeType'}}}}, flightInstances: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-FlightInstances', description: 'URI pointing to the FlightInstances resource.'}}}, windingtree-wt-airline-schemas-FlightInstances: {description: 'Array of flight instances for a specific flight number.', type: array, items: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-FlightInstance'}}, windingtree-wt-airline-schemas-FlightInstance: {type: object, description: 'Data for a specific flight.', required: [id, departureDateTime, segments, bookingClasses, updatedAt], properties: {id: {description: 'A reference flight instance ID to be used during booking.', type: string, maxLength: 255, example: IeKeix6G}, departureDateTime: {description: 'Date and time of departure from the first segment', type: string, format: date-time}, bookingClasses: {description: "Array of price and availability information for\nvarious booking classes of the flight. In the\nfuture, this information might become more granular\n(per segment instead of per flight).\n", type: array, items: {type: object, required: [id, name, fare, availabilityCount], properties: {id: {description: "ID of the booking class to be referenced in\nbooking requests. Should be unique among all\nbooking classes of the flight.\n", type: string, maxLength: 255, example: economy}, name: {description: 'A human-readable name of the booking class.', type: string, maxLength: 255, example: Economy}, fare: {description: 'Fare price, potentially expressed in multiple currencies.', type: array, items: {$ref: '#/components/schemas/windingtree-wt-airline-schemas-Fare'}}, availabilityCount: {type: integer, format: int32}}}}, segments: {description: "An object whose keys are segment IDs (they should match the segment IDs in the Flight data).\nIt specifies information for individual flight segments for the given flight instance.\n", type: object, additionalProperties: {type: object, required: [departureDateTime, arrivalDateTime], properties: {departureDateTime: {description: 'Time of the departure.', type: string, format: date-time}, arrivalDateTime: {description: 'Time of the arrival.', type: string, format: date-time}}}}, updatedAt: {description: 'Time of the last update of flight information.', type: string, format: date-time}}}, windingtree-wt-airline-schemas-Fare: {type: object, required: [amount, currency], properties: {amount: {description: 'Fare price for the flight segment.', type: number, format: float}, currency: {description: 'Fare price currency.', $ref: '#/components/schemas/windingtree-wt-airline-schemas-CurrencyType'}}}, windingtree-wt-airline-schemas-AirlineCodeType: {title: 'Airline Code.', description: 'IATA 2-Letter Airline code.', type: string, minLength: 2, maxLength: 2}, windingtree-wt-airline-schemas-AirportCodeType: {title: 'Airport Code.', description: 'IATA 3-Letter Airport code.', type: string, minLength: 3, maxLength: 3}, windingtree-wt-airline-schemas-EquipmentType: {title: 'Airline equipment type (aircraft).', type: string, maxLength: 255}, windingtree-wt-airline-schemas-Contact: {title: Contact, type: object, properties: {email: {description: 'E-mail contact', type: string, format: email, example: joseph.urban@example.com, maxLength: 150}, phone: {description: 'Phone number (with country prefix and a leading + sign)', type: string, maxLength: 18, example: '+44123456789', format: phone}, url: {description: 'Url to the contact web page', type: string, format: uri}, ethereum: {description: 'Address of wallet on Ethereum', $ref: '#/components/schemas/windingtree-wt-airline-schemas-EthereumAddressType'}, additionalContacts: {description: 'More contact options, such as Whatsapp, WeChat, Telegram, twitter handle, facebook address. Once we see high demand for a particular type of contact, we can promote them to regular contact types.', type: array, items: {type: object, required: [title, value], properties: {title: {description: 'Name of this contact options', type: string, maxLength: 100}, value: {description: 'The actual contact', type: string, maxLength: 100}}}}}}, windingtree-wt-airline-schemas-CancellationPolicy: {title: 'Cancellation policy', type: object, description: 'What is the penalty when a guest/passenger wants to cancel a reservation.', required: [amount], properties: {from: {description: 'After which date does this cancellation policy apply (including). If not present, this policy applies since the beginning of time. This is related to arrival and departure dates, not the date of the booking.', type: string, format: date, example: '2018-01-30'}, to: {description: 'Before which date does this cancellation policy apply(including). If not present, this policy applies until the end of the universe. This is related to arrival and departure dates, not the date of the booking.', type: string, format: date, example: '2018-02-20'}, deadline: {type: integer, description: 'How many days before hotel arrival or flight departure does this first apply. If not present, this policy applies any time.', example: 30}, amount: {type: number, format: float, description: 'Cost of cancellation in percents of the final price, 100 means non refundable. This means how much money will the hotel keep.', example: 25}}}, windingtree-wt-airline-schemas-AddressType: {title: 'Postal address', description: 'Based on output of Open Street Map''s [Nominatim](https://wiki.openstreetmap.org/wiki/Nominatim). For formatting, take a look [here](https://github.com/OpenCageData/address-formatting).', type: object, required: [road, houseNumber, city, countryCode], properties: {houseNumber: {type: string, maxLength: 150}, road: {type: string, maxLength: 150}, city: {type: string, maxLength: 150}, county: {type: string, maxLength: 150}, stateDistrict: {type: string, maxLength: 150}, state: {type: string, maxLength: 150}, postcode: {type: string, maxLength: 13}, countryCode: {type: string, maxLength: 2, minLength: 2, description: 'ISO 3166-1 alpha-2 codes', format: country-code}}}, windingtree-wt-airline-schemas-LegalEntityType: {title: 'Legal entity', type: object, description: 'A legal entity that can be held responsible', required: [name, address, contact], properties: {name: {description: 'Entity''s name as registered with the authorities', type: string, maxLength: 300}, address: {description: 'Entity''s postal address as registered with the authorities', $ref: '#/components/schemas/windingtree-wt-airline-schemas-AddressType'}, contact: {description: 'Any way of contacting the entity', $ref: '#/components/schemas/windingtree-wt-airline-schemas-Contact'}, vatin: {description: 'VAT identification number ([EU](https://en.wikipedia.org/wiki/VAT_identification_number), [US](https://www.irs.gov/individuals/international-taxpayers/taxpayer-identification-numbers-tin), or equivalents)', type: string, maxLength: 50}, lei: {description: 'Legal Entity Identifier as defined in ISO 17442, https://en.wikipedia.org/wiki/Legal_Entity_Identifier', type: string, length: 20}}}, windingtree-wt-airline-schemas-CurrencyType: {title: 'Currency code', type: string, minLength: 3, maxLength: 3, description: 'Three letter ISO 4217 currency code.', format: currency-code}, windingtree-wt-airline-schemas-DescriptionType: {title: 'Markdown description', description: 'Text description in simple Markdown format (bold, italic, titles, line break and paragraph format). Particular flavour of markdown is yet to be decided.', type: string, maxLength: 3000}, windingtree-wt-airline-schemas-EthereumAddressType: {title: 'Ethereum address', type: string, description: 'Ethereum address in hexadecimal format (with leading 0x) or an ENS name.', maxLength: 300}, windingtree-wt-airline-schemas-NameType: {title: 'Entity name', description: 'Human readable name identifying an entity (shown to users in search results, hotel/room details, etc)', type: string, maxLength: 150}, windingtree-wt-airline-schemas-ObjectIdType: {title: ID, description: 'Vendor string ID', type: string, maxLength: 100, example: 1234-abcd}, windingtree-wt-airline-schemas-TimezoneType: {title: 'Timezone code', description: 'Timezone name according to https://www.iana.org/time-zones (refer to zone.tab)', type: string, maxLength: 40, format: timezone}, windingtree-wt-airline-schemas-UriType: {title: URI, description: 'URI for linking resources. The maximal length is 1500 to save space.', type: string, format: uri, maxLength: 1500}, windingtree-wt-airline-schemas-LanguageCodeType: {title: 'Language code', description: 'Two letter language code based on ISO 639-1 standard', type: string, format: language-code, length: 2}}
